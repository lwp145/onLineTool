webpackJsonp([1],{EBaU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n("mvHQ"),i=(a=o)&&a.__esModule?a:{default:a};var s=window.localStorage,r={addBook:function(e){var t=this.createBookID(),n=this.getBooks();n.push({bookID:t,bookName:e,items:[],createTime:+new Date}),this.set("Books",n)},removeBook:function(e){var t=this.getBooks(),n=t.findIndex(function(t){return t.bookID===e});n>-1&&t.splice(n,1),this.set("Books",t)},addItem:function(e,t){var n=this.getBooks(),a=n.findIndex(function(t){return t.bookID===e}),o=n.find(function(t){return t.bookID===e}),i=this.createItemID();o&&(o.items.push({itemID:i,content:t,status:0,reason:"",createTime:+new Date}),n[a]=o),this.set("Books",n)},removeItem:function(e,t){var n=this.getBooks(),a=n.findIndex(function(t){return t.bookID===e}),o=n[a].items.findIndex(function(e){return e.itemID===t});n[a].items.splice(o,1),this.set("Books",n)},reNameBook:function(e,t){var n=this.getBooks();n[n.findIndex(function(t){return t.bookID===e})].bookName=t,this.set("Books",n)},editItem:function(e,t,n){var a=this.getBooks(),o=a.findIndex(function(t){return t.bookID===e}),i=a[o].items.findIndex(function(e){return e.itemID===t});a[o].items[i].content=n,this.set("Books",a)},createBookID:function(){return"book_"+parseInt(1e9*Math.random())},createItemID:function(){return"item_"+parseInt(1e9*Math.random())},refresh:function(){return this.get("Books")},getBooks:function(){return this.get("Books")||[]},markFinish:function(e,t){var n=this.getBooks(),a=n.findIndex(function(t){return t.bookID===e}),o=n[a].items.findIndex(function(e){return e.itemID===t});n[a].items[o].status=2,n[a].items[o].reason="",n[a].items[o].finishTime=+new Date,this.set("Books",n)},markUnFinish:function(e,t,n){var a=this.getBooks(),o=a.findIndex(function(t){return t.bookID===e}),i=a[o].items.findIndex(function(e){return e.itemID===t});a[o].items[i].status=1,a[o].items[i].reason=n,this.set("Books",a)},addReason:function(e,t,n){var a=this.getBooks(),o=a.findIndex(function(t){return t.bookID===e}),i=a[o].items.findIndex(function(e){return e.itemID===t});a[o].items[i].reason=n,this.set("Books",a)},set:function(e,t){s.setItem(e,(0,i.default)(t))},get:function(e){return JSON.parse(s.getItem(e))}};t.default=r},J7LN:function(e,t){},UaNl:function(e,t){},YaEn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n("Dd8w")),o=u(n("+6Bu")),i=u(n("GiK3")),s=n("F8kA"),r=(n("rGbO"),u(n("nLJS")));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.component,n=e.children,r=(0,o.default)(e,["component","children"]);return i.default.createElement(s.Route,(0,a.default)({},r,{render:function(e){return i.default.createElement(t,e,i.default.createElement(s.Switch,null,n))}}))};t.default=function(){return i.default.createElement(s.BrowserRouter,null,i.default.createElement("div",{className:"router-content"},i.default.createElement(s.Switch,null,i.default.createElement(c,{exact:!0,path:"/",component:r.default}))))}},eslX:function(e,t,n){"use strict";var a=s(n("GiK3")),o=s(n("O27J")),i=s(n("YaEn"));function s(e){return e&&e.__esModule?e:{default:e}}n("tj+y"),n("J7LN"),n("n9Wd"),n("jkmA"),o.default.render(a.default.createElement(i.default,null),document.getElementById("app"))},jkmA:function(e,t){},n9Wd:function(e,t){},nLJS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n("Zx67")),o=f(n("Zrlr")),i=f(n("wxAW")),s=f(n("zwoO")),r=f(n("Pf15")),u=n("GiK3"),c=f(u);n("UaNl");var l=f(n("EBaU")),d=f(n("HW6M"));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,n,i,r;(0,o.default)(this,t);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return n=i=(0,s.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(c))),i.state={books:[],activeBook:null,activeItem:null},i.addBook=function(){var e=window.prompt("请输入备忘录名称","");e&&(l.default.addBook(e),i.refresh())},i.deleteBook=function(e){l.default.removeBook(e.bookID),i.setState({activeBook:null,activeItem:null},function(){i.refresh()})},i.selectBook=function(e){i.setState({activeBook:e,activeItem:null})},i.selectItem=function(e){i.setState({activeItem:e})},i.markFinish=function(){i.state.activeItem?(l.default.markFinish(i.state.activeBook.bookID,i.state.activeItem.itemID),i.refresh()):window.alert("请选择要操作的子分录")},i.markUnFinish=function(){if(i.state.activeItem){var e=window.prompt("请输入未完成原因","");e&&(l.default.markUnFinish(i.state.activeBook.bookID,i.state.activeItem.itemID,e),i.refresh())}else window.alert("请选择要操作的子分录")},i.addItem=function(){if(i.state.activeBook){var e=window.prompt("请输入子分录内容","");e&&(l.default.addItem(i.state.activeBook.bookID,e),i.refresh())}else window.alert("请选择要操作的备忘录")},i.addReason=function(){if(i.state.activeItem){var e=window.prompt("请输入备注内容","");e&&(l.default.addReason(i.state.activeBook.bookID,i.state.activeItem.itemID,e),i.refresh())}else window.alert("请选择要操作的子分录")},r=n,(0,s.default)(i,r)}return(0,r.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=this,t=l.default.getBooks(),n=null,a=null;this.state.activeBook&&(n=t.find(function(t){return t.bookID===e.state.activeBook.bookID})),this.state.activeItem&&(a=n.items.find(function(t){return t.itemID===e.state.activeItem.itemID})),this.setState({books:t,activeBook:n,activeItem:a})}},{key:"deleteItem",value:function(e){l.default.removeItem(this.state.activeBook.bookID,e.itemID),this.refresh()}},{key:"showTime",value:function(e){var t=new Date(e);return t.getFullYear()+"/"+this.beTwo(t.getMonth()+1)+"/"+this.beTwo(t.getDate())+"  "+this.beTwo(t.getHours())+":"+this.beTwo(t.getMinutes())+":"+this.beTwo(t.getSeconds())}},{key:"beTwo",value:function(e){return e<10?"0"+e:e}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"book"},c.default.createElement("div",{className:"top-part"},"在线备忘录 ©copyRight by wgh"),c.default.createElement("div",{className:"main"},c.default.createElement("div",{className:"left-part"},c.default.createElement("div",{className:"title",onClick:this.addBook},"+新增备忘录"),c.default.createElement("div",{className:"book-list"},this.state.books.map(function(t,n){var a=(0,d.default)({"book-item":!0,"active-book":!!e.state.activeBook&&t.bookID===e.state.activeBook.bookID});return c.default.createElement("div",{key:n,className:a,onClick:function(){return e.selectBook(t)}},c.default.createElement("span",{className:"name"},t.bookName),c.default.createElement("span",{className:"close",onClick:function(){return e.deleteBook(t)}},"x"))}))),c.default.createElement("div",{className:"right-part"},c.default.createElement("div",{className:"title"},c.default.createElement("span",{onClick:this.addItem},"+新增子分录"),c.default.createElement("span",{onClick:this.markFinish},"√标记为完成"),c.default.createElement("span",{onClick:this.markUnFinish},"×标记未完成"),c.default.createElement("span",{onClick:this.addReason},"*修改备注")),this.state.activeBook&&c.default.createElement("div",{className:"content"},this.state.activeBook.items.map(function(t,n){var a=(0,d.default)({"content-item":!0,"active-item":!!e.state.activeItem&&t.itemID===e.state.activeItem.itemID,"finish-status":2===t.status,"unfinish-status":1===t.status});return c.default.createElement("div",{key:n,className:a,onClick:function(){e.selectItem(t)}},c.default.createElement("div",{className:"context"},c.default.createElement("div",{className:"main"},c.default.createElement("div",{className:"tips"},"第",n+1,"条、"),c.default.createElement("div",{className:"status"},"状态：",(0===t.status?"新增":1===t.status&&"未完成")||2===t.status&&"完成"),c.default.createElement("div",{className:"context"},"内容：",t.content),c.default.createElement("div",{className:"time"},"创建时间：",e.showTime(t.createTime)),2===t.status&&c.default.createElement("div",{className:"time"},"完成时间：",e.showTime(t.finishTime))),c.default.createElement("div",{className:"close",onClick:function(){return e.deleteItem(t)}},"x")),t.reason&&c.default.createElement("div",{className:"reason"},"备注：",t.reason))})))))}}]),t}(u.Component);t.default=m},"tj+y":function(e,t){}},["eslX"]);
//# sourceMappingURL=main.cbdad7bcd3888311d4e0.js.map